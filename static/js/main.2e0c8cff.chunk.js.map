{"version":3,"sources":["components/gallery/gallery.module.css","components/galleryItem/galleryItem.module.css","components/searchbar/Searchbar.jsx","components/galleryItem/galleryItem.jsx","components/gallery/gallery.jsx","components/Spinner/spinner.jsx","components/modal/modal.jsx","App.js","components/services.jsx","index.js","components/searchbar/searchbar.module.css","components/modal/modal.module.css"],"names":["module","exports","Searchbar","state","name","handleOnChange","e","setState","currentTarget","value","handleOnSubmit","preventDefault","trim","props","onSubmit","className","css","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","img","largeImage","onSelect","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","webformatURL","largeImageURL","Spinner","color","height","width","timeout","Modal","showModal","handleKeyDown","code","onCloseModal","handleBackdropClick","console","log","target","window","addEventListener","removeEventListener","Overlay","selectedPicture","App","page","selectedImg","loading","error","handleSearchbarSubmit","handleLoadMoreClick","prevState","toggleModal","handleSelectImg","prevProps","fetch","then","response","ok","Error","status","json","Fetch","hits","length","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,gC,mBCAjCD,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,sBAAwB,6C,oKCCtFC,EAAb,4MACEC,MAAQ,CACNC,KAAM,IAFV,EAKEC,eAAiB,SAAAC,GACf,EAAKC,SAAS,CAAEH,KAAME,EAAEE,cAAcC,SAN1C,EASEC,eAAiB,SAAAJ,GACfA,EAAEK,iBAC6B,KAA3B,EAAKR,MAAMC,KAAKQ,QAGpB,EAAKC,MAAMC,SAAS,EAAKX,MAAMC,OAdnC,4CAiBE,WACE,OACE,wBAAQW,UAAWC,IAAId,UAAWY,SAAUG,KAAKP,eAAjD,SACE,uBAAMK,UAAWC,IAAIE,WAArB,UACE,wBAAQC,KAAK,SAASJ,UAAWC,IAAII,iBAArC,SACE,sBAAML,UAAWC,IAAIK,sBAArB,sBAGF,uBACEN,UAAWC,IAAIM,gBACfH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhB,MAAOQ,KAAKd,MAAMC,KAClBsB,SAAUT,KAAKZ,0BAhC3B,GAA+BsB,a,kCCDlBC,EAAmB,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,IAAKC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SAClD,OACE,oBAAIhB,UAAU,mBAAmBiB,QAAS,kBAAMD,EAASD,IAAzD,SACE,qBAAKG,IAAKJ,EAAKK,IAAI,GAAGnB,UAAWC,IAAImB,2BCF9BC,EAAe,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUN,EAAe,EAAfA,SACvC,OACE,oBAAIhB,UAAWC,IAAIoB,aAAnB,SACGC,EAASC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACZ,cAAC,EAAD,CAEEZ,IAAKW,EACLV,WAAYW,EACZV,SAAUA,GAHLQ,S,yBCLFG,EAAU,WACrB,OACE,cAAC,IAAD,CACEvB,KAAK,OACLwB,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,O,gBCPFC,EAAb,4MACE5C,MAAQ,CAAE6C,WAAW,GADvB,EAYEC,cAAgB,SAAA3C,GACC,WAAXA,EAAE4C,MACJ,EAAKrC,MAAMsC,gBAdjB,EAiBEC,oBAAsB,SAAA9C,GACpB+C,QAAQC,IAAIhD,EAAEiD,QACVjD,EAAEiD,SAAWjD,EAAEE,eACjB,EAAKK,MAAMsC,gBApBjB,uDAEE,WACEE,QAAQC,IAAI,qBACZE,OAAOC,iBAAiB,UAAWxC,KAAKgC,eACxCO,OAAOC,iBAAiB,QAASxC,KAAKmC,uBAL1C,kCAOE,WACEC,QAAQC,IAAI,wBACZE,OAAOE,oBAAoB,UAAWzC,KAAKgC,eAC3CO,OAAOE,oBAAoB,QAASzC,KAAKmC,uBAV7C,oBAwBE,WACE,OACE,qBAAKrC,UAAWC,IAAI2C,QAAS3B,QAASf,KAAKmC,oBAA3C,SACE,qBAAKrC,UAAWC,IAAI+B,MAApB,SACE,qBAAKd,IAAKhB,KAAKJ,MAAM+C,gBAAiB1B,IAAI,aA5BpD,GAA2BP,aCKdkC,EAAb,4MACE1D,MAAQ,CACNC,KAAM,GACN0D,KAAM,EACNzB,SAAU,GACV0B,YAAa,KACbC,SAAS,EACTC,OAAO,EACPjB,WAAW,GARf,EAsCEkB,sBAAwB,SAAA9D,GACtB,EAAKG,SAAS,CAAEH,OAAMiC,SAAU,GAAIyB,KAAM,KAvC9C,EAyCEK,oBAAsB,WACpB,EAAK5D,UAAS,SAAA6D,GAAS,MAAK,CAAEN,KAAMM,EAAUN,KAAO,OA1CzD,EA4CEO,YAAc,WACZ,EAAK9D,UAAS,SAAA6D,GAAS,MAAK,CAAEpB,WAAYoB,EAAUpB,eA7CxD,EA+CEsB,gBAAkB,SAAAP,GAChB,EAAKxD,SAAS,CAAEwD,cAAaf,WAAW,KAhD5C,wDAWE,SAAmBuB,EAAWH,GAAY,IAAD,OACvC,EAAuBnD,KAAKd,MAApBC,EAAR,EAAQA,KAAM0D,EAAd,EAAcA,KAEVM,EAAUhE,OAASA,GAAQgE,EAAUN,OAASA,IAChD7C,KAAKV,SAAS,CAAEyD,SAAS,ICtBV,SAAC,GAAoB,IAAlB5D,EAAiB,EAAjBA,KAAM0D,EAAW,EAAXA,KAG5B,OAAOU,MAAM,GAAD,OAFA,2BAEA,cACEpE,EADF,iBACe0D,EADf,gBADI,qCACJ,yDAEVW,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UDcdC,CAAM,CAAE3E,OAAM0D,SACXW,MAAK,YAAe,IAAZO,EAAW,EAAXA,KACHA,EAAKC,OAAS,EAChB,EAAK1E,UAAS,SAAA6D,GAAS,MAAK,CAC1B/B,SAAS,GAAD,mBAAM+B,EAAU/B,UAAhB,YAA6B2C,IACrCf,OAAO,MAGT,EAAK1D,SAAS,CAAE0D,OAAO,OAG1BiB,OAAM,kBAAM,EAAK3E,SAAS,CAAE0D,OAAO,OACnCkB,SAAQ,kBAAM,EAAK5E,SAAS,CAAEyD,SAAS,QAE/B,IAATF,GACFN,OAAO4B,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAjClB,oBAmDE,WACE,MAAwDxE,KAAKd,MAArDkC,EAAR,EAAQA,SAAU2B,EAAlB,EAAkBA,QAASC,EAA3B,EAA2BA,MAAO7D,EAAlC,EAAkCA,KAAM2D,EAAxC,EAAwCA,YAExC,OACE,sBAAKhD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWD,SAAUG,KAAKiD,wBACzBD,GAAS,qBAAIlD,UAAU,QAAd,0BAAoCX,EAApC,mBACT4D,GAAW,cAAC,EAAD,IAEZ,cAAC,EAAD,CAAc3B,SAAUA,EAAUN,SAAUd,KAAKqD,kBAChDjC,EAAS4C,OAAS,GACjB,wBACE9D,KAAK,SACLJ,UAAU,SACViB,QAASf,KAAKkD,oBAHhB,uBAQDlD,KAAKd,MAAM6C,WACV,cAAC,EAAD,CACEY,gBAAiBG,EACjBZ,aAAclC,KAAKoD,qBAzE/B,GAAyB1C,aEFzB+D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFN,SAASO,eAAe,U,kBCR1B7F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.2e0c8cff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"gallery_ImageGallery__1wQiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"galleryItem_ImageGalleryItem__2nLCw\",\"ImageGalleryItemImage\":\"galleryItem_ImageGalleryItemImage__33f2y\"};","import { Component } from 'react';\nimport css from './searchbar.module.css';\nexport class Searchbar extends Component {\n  state = {\n    name: '',\n  };\n\n  handleOnChange = e => {\n    this.setState({ name: e.currentTarget.value });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    if (this.state.name.trim() === '') {\n      return;\n    }\n    this.props.onSubmit(this.state.name);\n    // this.setState({ name: '' });\n  };\n  render() {\n    return (\n      <header className={css.Searchbar} onSubmit={this.handleOnSubmit}>\n        <form className={css.SearchForm}>\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.name}\n            onChange={this.handleOnChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import css from './galleryItem.module.css';\nexport const ImageGalleryItem = ({ img, largeImage, onSelect }) => {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onSelect(largeImage)}>\n      <img src={img} alt=\"\" className={css.ImageGalleryItemImage} />\n    </li>\n  );\n};\n","import css from './gallery.module.css';\nimport { ImageGalleryItem } from '../galleryItem/galleryItem';\nexport const ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          img={webformatURL}\n          largeImage={largeImageURL}\n          onSelect={onSelect}\n        />\n      ))}\n    </ul>\n  );\n};\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nexport const Spinner = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n","import { Component } from 'react';\nimport css from './modal.module.css';\nexport class Modal extends Component {\n  state = { showModal: true };\n  componentDidMount() {\n    console.log('componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('click', this.handleBackdropClick);\n  }\n  componentWillUnmount() {\n    console.log('componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('click', this.handleBackdropClick);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n  handleBackdropClick = e => {\n    console.log(e.target);\n    if (e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>\n          <img src={this.props.selectedPicture} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { Searchbar } from './components/searchbar/Searchbar.jsx';\nimport { Fetch } from './components/services.jsx';\nimport { ImageGallery } from './components/gallery/gallery';\nimport { Spinner } from './components/Spinner/spinner';\nimport { Modal } from './components/modal/modal';\n\nexport class App extends Component {\n  state = {\n    name: '',\n    page: 1,\n    pictures: [],\n    selectedImg: null,\n    loading: false,\n    error: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { name, page } = this.state;\n\n    if (prevState.name !== name || prevState.page !== page) {\n      this.setState({ loading: true });\n      Fetch({ name, page })\n        .then(({ hits }) => {\n          if (hits.length > 0) {\n            this.setState(prevState => ({\n              pictures: [...prevState.pictures, ...hits],\n              error: false,\n            }));\n          } else {\n            this.setState({ error: true });\n          }\n        })\n        .catch(() => this.setState({ error: true }))\n        .finally(() => this.setState({ loading: false }));\n    }\n    if (page !== 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleSearchbarSubmit = name => {\n    this.setState({ name, pictures: [], page: 1 });\n  };\n  handleLoadMoreClick = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n  handleSelectImg = selectedImg => {\n    this.setState({ selectedImg, showModal: true });\n  };\n\n  render() {\n    const { pictures, loading, error, name, selectedImg } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n        {error && <h1 className=\"error\">There are no {name} pictures :( </h1>}\n        {loading && <Spinner />}\n\n        <ImageGallery pictures={pictures} onSelect={this.handleSelectImg} />\n        {pictures.length > 0 && (\n          <button\n            type=\"button\"\n            className=\"Button\"\n            onClick={this.handleLoadMoreClick}\n          >\n            Load more\n          </button>\n        )}\n        {this.state.showModal && (\n          <Modal\n            selectedPicture={selectedImg}\n            onCloseModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","export const Fetch = ({ name, page }) => {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '22720619-487e18f692264a9911b958ddb';\n  return fetch(\n    `${URL}?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3VK8i\",\"SearchForm\":\"searchbar_SearchForm__pn92P\",\"SearchFormButton\":\"searchbar_SearchFormButton__1EFLt\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Jj-ZB\",\"SearchFormInput\":\"searchbar_SearchFormInput__2L7V0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2PQZK\",\"Modal\":\"modal_Modal__3qVwQ\"};"],"sourceRoot":""}