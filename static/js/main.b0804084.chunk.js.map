{"version":3,"sources":["components/gallery/gallery.module.css","components/galleryItem/galleryItem.module.css","components/button/button.module.css","components/searchbar/Searchbar.jsx","components/galleryItem/galleryItem.jsx","components/gallery/gallery.jsx","components/button/button.jsx","components/Spinner/spinner.jsx","components/modal/modal.jsx","App.js","index.js","components/searchbar/searchbar.module.css","components/modal/modal.module.css"],"names":["module","exports","Searchbar","state","name","handleOnChange","e","setState","currentTarget","value","handleOnSubmit","preventDefault","trim","props","onSubmit","className","css","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","img","largeImage","onSelect","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","webformatURL","largeImageURL","Button","page","onBtnClick","prevState","Spinner","color","height","width","timeout","Modal","showModal","handleKeyDown","code","onCloseModal","handleBackdropClick","console","log","target","window","addEventListener","removeEventListener","Overlay","selectedPicture","App","selectedImg","loading","error","handleSearchbarSubmit","handleLoadMoreClick","toggleModal","handleSelectImg","prevProps","fetch","then","hits","length","catch","finally","response","ok","Error","status","json","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0804084.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"gallery_ImageGallery__1wQiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"galleryItem_ImageGalleryItem__2nLCw\",\"ImageGalleryItemImage\":\"galleryItem_ImageGalleryItemImage__33f2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__l6X__\"};","import { Component } from 'react';\nimport css from './searchbar.module.css';\nexport class Searchbar extends Component {\n  state = {\n    name: '',\n  };\n\n  handleOnChange = e => {\n    this.setState({ name: e.currentTarget.value });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    if (this.state.name.trim() === '') {\n      return;\n    }\n    this.props.onSubmit(this.state.name);\n    // this.setState({ name: '' });\n  };\n  render() {\n    return (\n      <header className={css.Searchbar} onSubmit={this.handleOnSubmit}>\n        <form className={css.SearchForm}>\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.name}\n            onChange={this.handleOnChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import css from './galleryItem.module.css';\nexport const ImageGalleryItem = ({ img, largeImage, onSelect }) => {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onSelect(largeImage)}>\n      <img src={img} alt=\"\" className={css.ImageGalleryItemImage} />\n    </li>\n  );\n};\n","import css from './gallery.module.css';\nimport { ImageGalleryItem } from '../galleryItem/galleryItem';\nexport const ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          img={webformatURL}\n          largeImage={largeImageURL}\n          onSelect={onSelect}\n        />\n      ))}\n    </ul>\n  );\n};\n","import { Component } from 'react';\nimport css from './button.module.css';\nexport class Button extends Component {\n  state = { page: 1 };\n  onBtnClick = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.props.onClick(this.state.page);\n  };\n\n  render() {\n    return (\n      <button type=\"button\" className={css.Button} onClick={this.onBtnClick}>\n        Load more\n      </button>\n    );\n  }\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nexport const Spinner = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n","import { Component } from 'react';\nimport css from './modal.module.css';\nexport class Modal extends Component {\n  state = { showModal: true };\n  componentDidMount() {\n    console.log('componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('click', this.handleBackdropClick);\n  }\n  componentWillUnmount() {\n    console.log('componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('click', this.handleBackdropClick);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n  handleBackdropClick = e => {\n    console.log(e.target);\n    if (e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>\n          <img src={this.props.selectedPicture} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { Searchbar } from './components/searchbar/Searchbar.jsx';\nimport { ImageGallery } from './components/gallery/gallery';\nimport { Button } from './components/button/button';\nimport { Spinner } from './components/Spinner/spinner';\nimport { Modal } from './components/modal/modal';\n\nexport class App extends Component {\n  state = {\n    name: '',\n    page: 1,\n    pictures: [],\n    selectedImg: null,\n    loading: false,\n    error: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { name, page } = this.state;\n\n    if (prevState.name !== name) {\n      this.setState({ pictures: [], page: 1, loading: true });\n      return this.fetch()\n        .then(({ hits }) => {\n          if (hits.length > 0) {\n            this.setState({\n              pictures: hits,\n              error: false,\n            });\n          } else {\n            this.setState({ error: true });\n          }\n        })\n        .catch(() => this.setState({ error: true }))\n        .finally(() => this.setState({ loading: false }));\n    }\n    if (prevState.page !== page) {\n      this.setState({ loading: true });\n      return this.fetch()\n        .then(({ hits }) => {\n          this.setState(prevState => ({\n            pictures: [...prevState.pictures, ...hits],\n          }));\n        })\n        .finally(() => {\n          this.setState({ loading: false });\n        });\n    }\n  }\n\n  fetch() {\n    const { name, page } = this.state;\n    const key = '22720619-487e18f692264a9911b958ddb';\n    return fetch(\n      `https://pixabay.com/api/?q=${name}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    ).then(response => {\n      // console.log(response);\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n\n  handleSearchbarSubmit = name => {\n    this.setState({ name });\n  };\n  handleLoadMoreClick = page => {\n    this.setState({ page });\n  };\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n  handleSelectImg = selectedImg => {\n    this.setState({ selectedImg, showModal: true });\n  };\n\n  render() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    const { pictures, loading, error, name, selectedImg } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n        {error && <h1 className=\"error\">There are no {name} pictures :( </h1>}\n        {loading && <Spinner />}\n\n        <ImageGallery pictures={pictures} onSelect={this.handleSelectImg} />\n        {pictures.length > 0 && <Button onClick={this.handleLoadMoreClick} />}\n        {this.state.showModal && (\n          <Modal\n            selectedPicture={selectedImg}\n            onCloseModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3VK8i\",\"SearchForm\":\"searchbar_SearchForm__pn92P\",\"SearchFormButton\":\"searchbar_SearchFormButton__1EFLt\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Jj-ZB\",\"SearchFormInput\":\"searchbar_SearchFormInput__2L7V0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2PQZK\",\"Modal\":\"modal_Modal__3qVwQ\"};"],"sourceRoot":""}